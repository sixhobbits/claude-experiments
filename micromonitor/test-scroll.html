<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Test - MicroMonitor</title>
    <link rel="stylesheet" href="public/styles.css">
    <style>
        /* Add some extra content for testing scroll */
        .test-content {
            height: 2000px;
            background: linear-gradient(to bottom, #f0f0f0, #ddd);
            padding: 20px;
            margin-top: 20px;
        }
        
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 9999;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="debug-info" id="debug-info">
        Scroll: <span id="scroll-pos">0</span>px<br>
        Chart Height: <span id="chart-height">0</span>px
    </div>
    
    <div class="container">
        <header>
            <h1>Scroll Test</h1>
            <p>Testing if panels grow on scroll</p>
        </header>
        
        <div class="charts-section">
            <div class="chart-container" id="test-chart-1">
                <h3>Test Chart 1</h3>
                <canvas id="chart1" style="background: #f0f0f0;"></canvas>
            </div>
            
            <div class="chart-container" id="test-chart-2">
                <h3>Test Chart 2</h3>
                <canvas id="chart2" style="background: #f0f0f0;"></canvas>
            </div>
        </div>
        
        <div class="processes-section">
            <h3>Test Process Section</h3>
            <div class="process-table-container">
                <h4>Test Table</h4>
                <table class="process-table">
                    <thead>
                        <tr>
                            <th>Column 1</th>
                            <th>Column 2</th>
                            <th>Column 3</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Generate many rows for testing -->
                        <script>
                            for (let i = 1; i <= 50; i++) {
                                document.write(`
                                    <tr>
                                        <td>Row ${i} - Col 1</td>
                                        <td>Row ${i} - Col 2</td>
                                        <td>Row ${i} - Col 3</td>
                                    </tr>
                                `);
                            }
                        </script>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="test-content">
            <h2>Extra content for scrolling</h2>
            <p>Scroll down to test if the chart containers maintain their fixed height...</p>
        </div>
    </div>
    
    <script>
        // Monitor scroll and chart height
        const debugInfo = document.getElementById('debug-info');
        const scrollPos = document.getElementById('scroll-pos');
        const chartHeight = document.getElementById('chart-height');
        const chartContainer = document.getElementById('test-chart-1');
        
        function updateDebugInfo() {
            scrollPos.textContent = window.scrollY;
            chartHeight.textContent = chartContainer.offsetHeight;
        }
        
        window.addEventListener('scroll', updateDebugInfo);
        window.addEventListener('resize', updateDebugInfo);
        
        // Initial update
        updateDebugInfo();
        
        // Check height every 100ms to catch any changes
        setInterval(updateDebugInfo, 100);
    </script>
</body>
</html>